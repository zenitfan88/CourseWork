# План автоматизации тестирования сценариев покупки тура
**Перечень автоматизируемых сценариев.**

***Валидные сценарии:***
1. Успешная покупка тура с помощью сервиса Payment Gate:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы валидными значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод сообщения "Операция одобрена банком", информация об успешном платеже добавлена в соответсвующий раздел СУБД.*

2. Отказ банка при покупки тура с помощью сервиса Payment Gate:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы валидными значениями: 

Номер карты DECLINED — 5555 6666 7777 8888;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод сообщения "Операция отклонена банком", информация об отклоненном платеже добавлена в соответсвующий раздел СУБД.*

3. Успешная покупка тура с помощью сервиса Credit Gate:

Переход в раздел "Кредит по данным карты" с помощью кнопки "Купить в кредит" -> заполнение формы валидными значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод сообщения "Операция одобрена банком", информация об успешном платеже добавлена в соответсвующий раздел СУБД.*

4. Отказ банка при покупки тура с помощью сервиса Credit Gate:

Переход в раздел "Кредит по данным карты" с помощью кнопки "Купить в кредит" -> заполнение формы валидными значениями: 

Номер карты DECLINED — 5555 6666 7777 8888;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод сообщения "Операция отклонена банком", информация об отклоненном платеже добавлена в соответсвующий раздел СУБД.*

***Невалидные сценарии:***

1. Не заполнено поле "Номер карты", остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты - пустое поле;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Номер карты".*

2. Не заполнено поле "Месяц", остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - пустое поле;

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Месяц".*

3. Не заполнено поле "Год", остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - пустое поле;

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Год".*

4. Не заполнено поле "Владелец", остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - пустое поле;

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Владелец".*

5. Не заполнено поле "CVC/CVV", остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - пустое поле.

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "CVC/CVV".*

6. Поле "Номер карты" заполнено невалидными значениями, остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты - арабскими цифрами в количестве менее 12 символов (например "1234 56");

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Номер карты".*

7. Поле "Месяц" заполнено невалидными значениями, остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон более 12 (например "25");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Месяц".*

8. Поле "Год" заполнено невалидными значениями, остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, ранее текущей даты с учетом месяца(например "21");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Срок действия карты истек" под полем "Год".*

9. Поле "Владелец" заполнено невалидными значениями, остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на кирилице, с цифрами (например "Алексей17 Вася");

Код CVC/CVV - арабскими цифрами в формате ###(например "065").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

10. Поле "CVC/CVV" заполнено невалидными значениями, остальные поля заполнены валидными значениями:

Переход в раздел "Оплата по карте" с помощью кнопки "Купить" -> заполнение формы следующими значениями: 

Номер карты APPROVED - 1111 2222 3333 4444;

Месяц - арабские цифры, диапозон от 1 до 12 включительно (например "12");

Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");

Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");

Код CVC/CVV - арабскими цифрами в формате ##(например "12").

-> нажать кнопку "Продолжить"

*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "CVC/CVV".*

**Перечень используемых инструментов.**

1. IntelliJ IDEA - Интегрированная среда разработки кода теста.
2. Docker - программное обеспечение для управления базами данных.
3. Greadle - система для автоматизации сборки кода и сбора статистики.
4. Lombok - библиотека для оптимизации кода тестов.
5. CSSSelector - шаблон, соответствующий элементам на веб-странице.
6. Selenide - автоматизация действий веб-браузера.
7. Faker - библиотека для генерации данных.
8. Allure - инструмент построения отчётов автотестов.
9. SneakyThrows - инструмент для проверяемых исключений без их объявления в throws методе.
10. QueryRunner - класс, предназначенный для выполнения SQL
8. Git - система контроля версий, необходимая для отслеживания истории изменений.

**Возможные риски при автоматизации.**

- Высокая стоимость автоматизации. Затрачено будет больше временных ресурсов, чем при ручном тестировании.
- При поиске локаторов элементов на страницах, далеко не все имеют явные привязки.
- Переименование разделов сайта, что приведет к изменению локаторов.
- Изменение структуры сайта. Переход в форму оплаты будет через другие разделы.
- Изменение формы оплаты. Добавление новых данных, обязательных к заполнению.

**Интервальная оценка с учётом рисков в часах.**

Автоматизация тестирования покупки тура займет примерно 8 часов.

**План сдачи работ**

Автотесты будут проведены 26.12.2022 до 24.00.

Результаты их проведения и отчёты по автоматизации будут сформированы 27.12.2022 до 20.00.
