# План автоматизации тестирования сценариев покупки тура
**Перечень автоматизируемых сценариев.**  
***Валидные данные:***  
Номер карты APPROVED - 1111 2222 3333 4444;  
Номер карты DECLINED — 5555 6666 7777 8888;  
Месяц - арабские цифры, диапазон от 1 до 12 включительно (например "12");  
Год - арабские цифры, не ранее текущей даты с учетом месяца(например "23");  
Владелец - имя и фамилия на латинице, используем двойную фамилию через тире (например "Ivan Ivanov-Petrov");  
Код CVC/CVV - арабские цифры в формате ###(например "065"). 

***Предусловия***  
Открыть страницу покупки тура по адресу: http://localhost:8080.  
Перейти в раздел "Оплата по карте" с помощью кнопки "Купить". 

***Валидные сценарии:***  
1.	Успешная покупка тура:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод сообщения "Операция одобрена банком", информация об успешном платеже добавлена в соответствующий раздел СУБД.*

2.	Отказ банка при покупке тура:  
В поле «Номер карты» вводим номер карты DECLINED;  
В поле «Месяц» - вводим валидное значение;  
В поле «Год» - вводим валидное значение;  
В поле «Владелец» - вводим валидное значение;  
В поле «CVC/CVV» - вводим валидное значение;  
-> нажать кнопку "Продолжить»  
*Ожидаемый результат: Вывод сообщения "Операция отклонена банком", информация об отклоненном платеже добавлена в соответствующий раздел СУБД.*

***Негативные сценарии:***  
1.	Покупка тура при незаполненном поле "Номер карты:  
Номер карты – оставляем пустым;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Номер карты".*  

2.	Покупка тура при заполнении поля "Номер карты" нулями:  
В поле «Номер карты» вводим «0000 0000 0000 0000»;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Не верный номер карты" под полем "Номер карты".*

3.	Покупка тура при заполнении поля "Номер карты" не валидным количеством символов:  
В поле «Номер карты» вводим арабские цифры в количестве менее 16 символов (например "1234 56");  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Номер карты".*  

4.	Покупка тура при использовании номера карты не известной банку:  
В поле «Номер карты» вводим арабские цифры в количестве 16 символов (например «9999 6666 4444 3333»);  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки " Операция отклонена банком " под полем "Номер карты".*  

5.	Покупка тура при незаполненном поле "Месяц":  
В поле «Номер карты» вводим номер карты APPROVED;  
Поле «Месяц» оставляем пустым;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Месяц".*  

6.	Покупка тура при заполнении поля "Месяц" нулями:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим «00»;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Месяц".*

7.	Покупка тура при заполнении поля "Месяц" значением, превышающим валидное:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим арабские цифры, в диапазоне от 13 до 99 (например "25");  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Месяц".* 

8.	Покупка тура при заполнении поля "Месяц" не валидным количеством символов:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим арабские цифры, вводим арабские цифры в количестве менее 2 символов (например "2");  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Месяц".* 

9.	Покупка тура при незаполненном поле "Год":  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
Поле «Год» оставляем пустым;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Год".*

10.	Покупка тура при заполнении поля "Год", значением ранее текущей даты:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
Год - арабские цифры, ранее текущей даты с учетом месяца (например "21");  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки " Истек срок действия карты" под полем "Год".*

11.	Покупка тура при заполнении поля "Год" нулями:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим «00»;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки " Неверный формат" под полем "Год".*  

12.	Покупка тура при заполнении поля "Год" не валидным количеством символов:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;     
В поле «Год» вводим арабские цифры, вводим арабские цифры в количестве менее 2 символов (например "2");   
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "Месяц".*   

13.	Покупка тура при незаполненном поле "Владелец":  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
Поле «Владелец» оставляем пустым;  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "Владелец".*

14.	Покупка тура при заполнении поля "Владелец" кириллицей:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим имя и фамилию на кириллице(например "Алексей Васильев");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

15.	Покупка тура при заполнении поля "Владелец" цифрами:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим цифры(например "12354");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

16.	Покупка тура при заполнении поля "Владелец" специальными символами:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим специальные символы(например "/..,,.//`@”””://");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

17.	Покупка тура при заполнении поля "Владелец" кириллицей, цифрами и специальными символами:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим специальные символы(например "Алексей17!");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

18.	Покупка тура при заполнении поля "Владелец" латиницей, цифрами и специальными символами:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим специальные символы(например "Ivan17!");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Используйте только английские буквы" под полем "Владелец".*

19.	Покупка тура при заполнении поля "Владелец" латиницей с количеством букв более 50:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим латинские буквы в количестве более 20 без пробела(например "dsfffffffffffffffffdsdsdfsdfsdfsssssssssssdfsdfewertkgjfgjh");  
В поле «CVC/CVV» вводим валидное значение;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат. Имя и фамилия Владельца должны быть разделены пробелом" под полем "Владелец".*

20.	Покупка тура при незаполненном поле "CVC/CVV":  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» оставляем пустым;  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Поле обязательно для заполнения" под полем "CVC/CVV".*

21.	Покупка тура при заполнении поля "CVC/CVV" не валидным количеством символов:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим арабские цифры в количестве менее 2 символов (например "12");  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "CVC/CVV".*

22.	Покупка тура при заполнении поля "CVC/CVV" нулями:  
В поле «Номер карты» вводим номер карты APPROVED;  
В поле «Месяц» вводим валидное значение;  
В поле «Год» вводим валидное значение;  
В поле «Владелец» вводим валидное значение;  
В поле «CVC/CVV» вводим «000»  
-> нажать кнопку "Продолжить"  
*Ожидаемый результат: Вывод ошибки "Неверный формат" под полем "CVC/CVV".*

**Перечень используемых инструментов.**

1. IntelliJ IDEA - Интегрированная среда разработки кода теста.
2. Docker - программное обеспечение для управления базами данных.
3. Greadle - система для автоматизации сборки кода и сбора статистики.
4. Lombok - библиотека для оптимизации кода тестов.
5. CSSSelector - шаблон, соответствующий элементам на веб-странице.
6. Selenide - автоматизация действий веб-браузера.
7. Faker - библиотека для генерации данных.
8. Allure - инструмент построения отчётов автотестов.
9. SneakyThrows - инструмент для проверяемых исключений без их объявления в throws методе.
10. QueryRunner - класс, предназначенный для выполнения SQL
8. Git - система контроля версий, необходимая для отслеживания истории изменений.

**Возможные риски при автоматизации.**  
- Высокая стоимость автоматизации. Затрачено будет больше временных ресурсов, чем при ручном тестировании.
- При поиске локаторов элементов на страницах, далеко не все имеют явные привязки.
- Переименование разделов сайта, что приведет к изменению локаторов.
- Изменение структуры сайта. Переход в форму оплаты будет через другие разделы.
- Изменение формы оплаты. Добавление новых данных, обязательных к заполнению.

**Интервальная оценка с учётом рисков в часах.**  
Автоматизация тестирования покупки тура займет примерно 8 часов.

**План сдачи работ**  
Автотесты будут проведены 26.12.2022 до 24.00.  
Результаты их проведения и отчёты по автоматизации будут сформированы 27.12.2022 до 20.00.
